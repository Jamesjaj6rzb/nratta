(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72e49b1a"],{"36c7":function(e,t,a){"use strict";var i=a("867a"),n=a.n(i);n.a},"867a":function(e,t,a){},"8b30":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-share-view-vue"},[a("van-nav-bar",{staticClass:"header",attrs:{title:e.wikiPage.name}},[a("van-icon",{attrs:{slot:"left",name:"wap-nav",size:"20"},on:{click:e.popupShowChange},slot:"left"})],1),a("el-row",{staticClass:"main",attrs:{type:"border-card"}},[a("div",{staticStyle:{"max-width":"950px",margin:"0 auto"}},[a("div",{staticClass:"wiki-author"},[e.wikiPage.updateTime?a("span",[e._v("最后修改："+e._s(e.wikiPage.updateTime))]):a("span",[e._v("创建时间："+e._s(e.wikiPage.createTime))])]),a("div",{staticClass:"wiki-files"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.pageFileList.length>0,expression:"pageFileList.length > 0"}],staticStyle:{width:"100%","margin-bottom":"5px"},attrs:{data:e.pageFileList,border:""}},[a("el-table-column",{attrs:{label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:t.row.fileUrl}},[e._v(e._s(t.row.fileName))])]}}])}),a("el-table-column",{attrs:{label:"文件大小"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.computeFileSize(t.row.fileSize)))]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180px"}}),a("el-table-column",{attrs:{prop:"downloadNum",label:"下载次数",width:"80px"}})],1)],1),a("div",{ref:"pageContent",staticClass:"wiki-page-content"},[2==e.wikiPage.editorType?a("div",{staticClass:"markdown-body",domProps:{innerHTML:e._s(e.pageShowDetail)}}):a("div",{staticClass:"wang-editor-body",domProps:{innerHTML:e._s(e.pageShowDetail)}})])])])],1)},n=[],s=(a("4160"),a("c975"),a("b0c0"),a("b680"),a("159b"),a("0a79")),o=a("b2d8"),r=a("08a9"),l=a("28a2"),c=(a("c350"),a("64e1"),{data:function(){return{spaceUuid:"",nowPageId:"",wikiPage:{},pageFileList:[],pageShowDetail:"",previewInitialIndex:0,showImagePreviewList:[]}},components:{"el-image-viewer":r["a"]},beforeRouteUpdate:function(e,t,a){this.initQueryParam(e),a()},mounted:function(){this.initQueryParam(this.$route)},methods:{popupShowChange:function(){this.$emit("popupShow",!0)},loadPageDetail:function(e){var t=this,a={pageId:e,space:this.spaceUuid};s["a"].openPageDetail(a).then((function(e){var a=e.data.wikiPage||{};a.selfZan=e.data.selfZan||0,t.wikiPage=a;var i=e.data.pageContent||{};t.pageFileList=e.data.fileList||[],2===t.wikiPage.editorType&&(i.content=o["markdownIt"].render(i.content)),t.pageShowDetail=i.content,document.title=a.name||"WIKI-内容展示",setTimeout((function(){return t.previewPageImage()}),500)}))},initQueryParam:function(e){this.spaceUuid=e.query.space,this.nowPageId=e.query.pageId,this.nowPageId&&this.loadPageDetail(this.nowPageId)},computeFileSize:function(e){if(!e)return"-";var t="";t=e<102.4?e.toFixed(2)+"B":e<104857.6?(e/1024).toFixed(2)+"KB":e<107374182.4?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB";var a=t+"",i=a.indexOf("."),n=a.substr(i+1,2);return"00"==n?a.substring(0,i)+a.substr(i+3,2):t},previewPageImage:function(){var e=this,t=[],a=this.$refs.pageContent.querySelectorAll("img");a.forEach((function(a,i){t.push(a.src),a.onclick=function(){e.previewInitialIndex=i,e.showImagePreviewList=t,Object(l["a"])({images:t,startPosition:i})}}))}}}),u=c,p=(a("36c7"),a("2877")),d=Object(p["a"])(u,i,n,!1,null,null,null);t["default"]=d.exports}}]);