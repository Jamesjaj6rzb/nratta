(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f1da349"],{"03bc":function(e,t,i){"use strict";i("d3b7"),i("159b"),i("ac1f"),i("5319");t["a"]={createNavigationHeading:function(){var e=[],t=document.querySelector(".wiki-page-content").querySelectorAll("h1,h2,h3,h4,h5,h6");return t.length<=0?[]:(t.forEach((function(t){var i=t.innerHTML.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/<\/?[^>]+(>|$)/g,"");e.push({node:t,level:parseInt(t.tagName.replace(/[h]/i,""),10),text:i})})),e)}}},1276:function(e,t,i){"use strict";var a=i("2ba4"),n=i("c65b"),o=i("e330"),r=i("d784"),s=i("44e7"),l=i("825a"),c=i("1d80"),h=i("4840"),u=i("8aa5"),g=i("50c4"),d=i("577e"),p=i("dc4a"),f=i("4dae"),m=i("14c3"),v=i("9263"),w=i("9f7f"),b=i("d039"),y=w.UNSUPPORTED_Y,_=4294967295,A=Math.min,P=[].push,C=o(/./.exec),k=o(P),L=o("".slice),I=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));r("split",(function(e,t,i){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var o=d(c(this)),r=void 0===i?_:i>>>0;if(0===r)return[];if(void 0===e)return[o];if(!s(e))return n(t,o,e,r);var l,h,u,g=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,w=new RegExp(e.source,p+"g");while(l=n(v,w,o)){if(h=w.lastIndex,h>m&&(k(g,L(o,m,l.index)),l.length>1&&l.index<o.length&&a(P,g,f(l,1)),u=l[0].length,m=h,g.length>=r))break;w.lastIndex===l.index&&w.lastIndex++}return m===o.length?!u&&C(w,"")||k(g,""):k(g,L(o,m)),g.length>r?f(g,0,r):g}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:n(t,this,e,i)}:t,[function(t,i){var a=c(this),r=void 0==t?void 0:p(t,e);return r?n(r,t,a,i):n(o,d(a),t,i)},function(e,a){var n=l(this),r=d(e),s=i(o,n,r,a,o!==t);if(s.done)return s.value;var c=h(n,RegExp),p=n.unicode,f=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(y?"g":"y"),v=new c(y?"^(?:"+n.source+")":n,f),w=void 0===a?_:a>>>0;if(0===w)return[];if(0===r.length)return null===m(v,r)?[r]:[];var b=0,P=0,C=[];while(P<r.length){v.lastIndex=y?0:P;var I,D=m(v,y?L(r,P):r);if(null===D||(I=A(g(v.lastIndex+(y?P:0)),r.length))===b)P=u(r,P,p);else{if(k(C,L(r,b,P)),C.length===w)return C;for(var T=1;T<=D.length-1;T++)if(k(C,D[T]),C.length===w)return C;P=b=I}}return k(C,L(r,b)),C}]}),!I,y)},"342a":function(e,t,i){},"43a0":function(e,t,i){"use strict";i("cdc2")},"6c9a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAqFBMVEX///9wcHBwcHBwcHBwcHB8fHxwcHB6enpwcHCDg4NwcHB8fHx6enqSkpJ8fHxycnJwcHDp6el2dnZwcHD////39/f19fXz8/Pw8PDr6+vn5+fj4+PZ2dnX19fHx8fExMS9vb20tLSrq6uhoaGenp6MjIyKioqDg4N8fHx6enp4eHh0dHRycnKZmZmOjo6KioqDg4OAgIB/f396enp4eHh2dnZycnJwcHDyRjyJAAAALXRSTlMAETNEVWZmd3eIiJmqu7u7u93d3e7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u6OCyV0AAAAi0lEQVQYGXXBRwKCMBAF0B9Q7Io6RJGo2LAEu8zc/2YuyCILfQ/4R8k5gK+zy0v4TilZeAZb2rTCSMHp3bV+jeJpDEDFIvagSRtNJAro2vHjSo4owOYzNlTTAoDnGZNjLABOFkzOagigWiecUW3fBNB/L5+33GgiSksFQE1YPkUlciwuETxhox3ghy8Wng9K1E9YIwAAAABJRU5ErkJggg=="},"9c8a":function(e,t,i){"use strict";i("342a")},b8fe:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"navigation"},[i("div",{ref:"navigation",staticStyle:{display:"inline-block",width:"100%"}}),i("div",{staticClass:"navigation-heading",style:{width:e.navigationWidth}},e._l(e.heading,(function(t){return i("div",{class:"heading-item heading-"+t.level,on:{click:function(i){return e.headingItemClick(t)}}},[e._v(" "+e._s(t.text)+" ")])})),0)])},n=[],o={props:{heading:{type:Array,default:[]}},data:function(){return{navigationWidth:"100px"}},watch:{"$store.state.global.rightAsideWidth":function(){this.computeNavigationWidth()}},mounted:function(){var e=this;window.onresize=function(){e.computeNavigationWidth()},setTimeout((function(){return e.computeNavigationWidth()}),100)},methods:{computeNavigationWidth:function(){this.navigationWidth=window.getComputedStyle(this.$refs.navigation,null).width},headingItemClick:function(e){e.node.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}},r=o,s=(i("43a0"),i("2877")),l=Object(s["a"])(r,a,n,!1,null,null,null);t["a"]=l.exports},cdc2:function(e,t,i){},d044:function(e,t,i){var a;(function(t,i){e.exports=i()})(0,(function(){function e(e){this.mode=i.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,a=this.data.length;t<a;t++){var n=[],o=this.data.charCodeAt(t);o>65536?(n[0]=240|(1835008&o)>>>18,n[1]=128|(258048&o)>>>12,n[2]=128|(4032&o)>>>6,n[3]=128|63&o):o>2048?(n[0]=224|(61440&o)>>>12,n[1]=128|(4032&o)>>>6,n[2]=128|63&o):o>128?(n[0]=192|(1984&o)>>>6,n[1]=128|63&o):n[0]=o,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,i=this.parsedData.length;t<i;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var i=new e(t);this.dataList.push(i),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[a][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,i),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+i][t+a]=0<=i&&i<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var a=r.getLostPoint(this);(0==i||e>a)&&(e=a,t=i)}return t},createMovieClip:function(e,t,i){var a=e.createEmptyMovieClip(t,i),n=1;this.make();for(var o=0;o<this.modules.length;o++)for(var r=o*n,s=0;s<this.modules[o].length;s++){var l=s*n,c=this.modules[o][s];c&&(a.beginFill(0,100),a.moveTo(l,r),a.lineTo(l+n,r),a.lineTo(l+n,r+n),a.lineTo(l,r+n),a.endFill())}return a},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=r.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var a=e[t],n=e[i];if(null==this.modules[a][n])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[a+o][n+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(e){for(var t=r.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var a=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a}for(i=0;i<18;i++){a=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,a=r.getBCHTypeInfo(i),n=0;n<15;n++){var o=!e&&1==(a>>n&1);n<6?this.modules[n][8]=o:n<8?this.modules[n+1][8]=o:this.modules[this.moduleCount-15+n][8]=o}for(n=0;n<15;n++){o=!e&&1==(a>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=o:n<9?this.modules[8][15-n-1+1]=o:this.modules[8][15-n-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,a=this.moduleCount-1,n=7,o=0,s=this.moduleCount-1;s>0;s-=2){6==s&&s--;while(1){for(var l=0;l<2;l++)if(null==this.modules[a][s-l]){var c=!1;o<e.length&&(c=1==(e[o]>>>n&1));var h=r.getMask(t,a,s-l);h&&(c=!c),this.modules[a][s-l]=c,n--,-1==n&&(o++,n=7)}if(a+=i,a<0||this.moduleCount<=a){a-=i,i=-i;break}}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,i,a){for(var n=h.getRSBlocks(e,i),o=new u,s=0;s<a.length;s++){var l=a[s];o.put(l.mode,4),o.put(l.getLength(),r.getLengthInBits(l.mode,e)),l.write(o)}var c=0;for(s=0;s<n.length;s++)c+=n[s].dataCount;if(o.getLengthInBits()>8*c)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*c+")");o.getLengthInBits()+4<=8*c&&o.put(0,4);while(o.getLengthInBits()%8!=0)o.putBit(!1);while(1){if(o.getLengthInBits()>=8*c)break;if(o.put(t.PAD0,8),o.getLengthInBits()>=8*c)break;o.put(t.PAD1,8)}return t.createBytes(o,n)},t.createBytes=function(e,t){for(var i=0,a=0,n=0,o=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var h=t[l].dataCount,u=t[l].totalCount-h;a=Math.max(a,h),n=Math.max(n,u),o[l]=new Array(h);for(var g=0;g<o[l].length;g++)o[l][g]=255&e.buffer[g+i];i+=h;var d=r.getErrorCorrectPolynomial(u),p=new c(o[l],d.getLength()-1),f=p.mod(d);s[l]=new Array(d.getLength()-1);for(g=0;g<s[l].length;g++){var m=g+f.getLength()-s[l].length;s[l][g]=m>=0?f.get(m):0}}var v=0;for(g=0;g<t.length;g++)v+=t[g].totalCount;var w=new Array(v),b=0;for(g=0;g<a;g++)for(l=0;l<t.length;l++)g<o[l].length&&(w[b++]=o[l][g]);for(g=0;g<n;g++)for(l=0;l<t.length;l++)g<s[l].length&&(w[b++]=s[l][g]);return w};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){var t=e<<10;while(r.getBCHDigit(t)-r.getBCHDigit(r.G15)>=0)t^=r.G15<<r.getBCHDigit(t)-r.getBCHDigit(r.G15);return(e<<10|t)^r.G15_MASK},getBCHTypeNumber:function(e){var t=e<<12;while(r.getBCHDigit(t)-r.getBCHDigit(r.G18)>=0)t^=r.G18<<r.getBCHDigit(t)-r.getBCHDigit(r.G18);return e<<12|t},getBCHDigit:function(e){var t=0;while(0!=e)t++,e>>>=1;return t},getPatternPosition:function(e){return r.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case o.PATTERN000:return(t+i)%2==0;case o.PATTERN001:return t%2==0;case o.PATTERN010:return i%3==0;case o.PATTERN011:return(t+i)%3==0;case o.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case o.PATTERN101:return t*i%2+t*i%3==0;case o.PATTERN110:return(t*i%2+t*i%3)%2==0;case o.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new c([1],0),i=0;i<e;i++)t=t.multiply(new c([1,s.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,a=0;a<t;a++)for(var n=0;n<t;n++){for(var o=0,r=e.isDark(a,n),s=-1;s<=1;s++)if(!(a+s<0||t<=a+s))for(var l=-1;l<=1;l++)n+l<0||t<=n+l||0==s&&0==l||r==e.isDark(a+s,n+l)&&o++;o>5&&(i+=3+o-5)}for(a=0;a<t-1;a++)for(n=0;n<t-1;n++){var c=0;e.isDark(a,n)&&c++,e.isDark(a+1,n)&&c++,e.isDark(a,n+1)&&c++,e.isDark(a+1,n+1)&&c++,0!=c&&4!=c||(i+=3)}for(a=0;a<t;a++)for(n=0;n<t-6;n++)e.isDark(a,n)&&!e.isDark(a,n+1)&&e.isDark(a,n+2)&&e.isDark(a,n+3)&&e.isDark(a,n+4)&&!e.isDark(a,n+5)&&e.isDark(a,n+6)&&(i+=40);for(n=0;n<t;n++)for(a=0;a<t-6;a++)e.isDark(a,n)&&!e.isDark(a+1,n)&&e.isDark(a+2,n)&&e.isDark(a+3,n)&&e.isDark(a+4,n)&&!e.isDark(a+5,n)&&e.isDark(a+6,n)&&(i+=40);var h=0;for(n=0;n<t;n++)for(a=0;a<t;a++)e.isDark(a,n)&&h++;var u=Math.abs(100*h/t/t-50)/5;return i+=10*u,i}},s={glog:function(e){if(e<1)throw new Error("glog("+e+")");return s.LOG_TABLE[e]},gexp:function(e){while(e<0)e+=255;while(e>=256)e-=255;return s.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)s.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)s.EXP_TABLE[l]=s.EXP_TABLE[l-4]^s.EXP_TABLE[l-5]^s.EXP_TABLE[l-6]^s.EXP_TABLE[l-8];for(l=0;l<255;l++)s.LOG_TABLE[s.EXP_TABLE[l]]=l;function c(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);var i=0;while(i<e.length&&0==e[i])i++;this.num=new Array(e.length-i+t);for(var a=0;a<e.length-i;a++)this.num[a]=e[a+i]}function h(e,t){this.totalCount=e,this.dataCount=t}function u(){this.buffer=[],this.length=0}c.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<e.getLength();a++)t[i+a]^=s.gexp(s.glog(this.get(i))+s.glog(e.get(a)));return new c(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=s.glog(this.get(0))-s.glog(e.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(a=0;a<e.getLength();a++)i[a]^=s.gexp(s.glog(e.get(a))+t);return new c(i,0).mod(e)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(e,t){var i=h.getRsBlockTable(e,t);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=i.length/3,n=[],o=0;o<a;o++)for(var r=i[3*o+0],s=i[3*o+1],l=i[3*o+2],c=0;c<r;c++)n.push(new h(s,l));return n},h.getRsBlockTable=function(e,t){switch(t){case n.L:return h.RS_BLOCK_TABLE[4*(e-1)+0];case n.M:return h.RS_BLOCK_TABLE[4*(e-1)+1];case n.Q:return h.RS_BLOCK_TABLE[4*(e-1)+2];case n.H:return h.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},u.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var g=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function d(){return"undefined"!=typeof CanvasRenderingContext2D}function p(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var i=t.toString().match(/android ([0-9]\.[0-9])/i);i&&i[1]&&(e=parseFloat(i[1]))}return e}var f=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,i=this._el,a=e.getModuleCount();Math.floor(t.width/a),Math.floor(t.height/a);function n(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in t)t.hasOwnProperty(a)&&i.setAttribute(a,t[a]);return i}this.clear();var o=n("svg",{viewBox:"0 0 "+String(a)+" "+String(a),width:"100%",height:"100%",fill:t.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(n("rect",{fill:t.colorLight,width:"100%",height:"100%"})),o.appendChild(n("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;r<a;r++)for(var s=0;s<a;s++)if(e.isDark(r,s)){var l=n("use",{x:String(s),y:String(r)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}},e.prototype.clear=function(){while(this._el.hasChildNodes())this._el.removeChild(this._el.lastChild)},e}(),m="svg"===document.documentElement.tagName.toLowerCase(),v=m?f:d()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,i=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,a,n,o,r,s,l,c,h){if("nodeName"in e&&/img/i.test(e.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*t;else"undefined"==typeof c&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);i.apply(this,arguments)}}function a(e,t){var i=this;if(i._fFail=t,i._fSuccess=e,null===i._bSupportDataURI){var a=document.createElement("img"),n=function(){i._bSupportDataURI=!1,i._fFail&&i._fFail.call(i)},o=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)};return a.onabort=n,a.onerror=n,a.onload=o,void(a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===i._bSupportDataURI&&i._fSuccess?i._fSuccess.call(i):!1===i._bSupportDataURI&&i._fFail&&i._fFail.call(i)}var n=function(e,t){this._bIsPainted=!1,this._android=p(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(e){var t=this._elImage,i=this._oContext,a=this._htOption,n=e.getModuleCount(),o=a.width/n,r=a.height/n,s=Math.round(o),l=Math.round(r);t.style.display="none",this.clear();for(var c=0;c<n;c++)for(var h=0;h<n;h++){var u=e.isDark(c,h),g=h*o,d=c*r;i.strokeStyle=u?a.colorDark:a.colorLight,i.lineWidth=1,i.fillStyle=u?a.colorDark:a.colorLight,i.fillRect(g,d,o,r),i.strokeRect(Math.floor(g)+.5,Math.floor(d)+.5,s,l),i.strokeRect(Math.ceil(g)-.5,Math.ceil(d)-.5,s,l)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&a.call(this,e)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},n}():function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,i=this._el,a=e.getModuleCount(),n=Math.floor(t.width/a),o=Math.floor(t.height/a),r=['<table style="border:0;border-collapse:collapse;">'],s=0;s<a;s++){r.push("<tr>");for(var l=0;l<a;l++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+n+"px;height:"+o+"px;background-color:"+(e.isDark(s,l)?t.colorDark:t.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),i.innerHTML=r.join("");var c=i.childNodes[0],h=(t.width-c.offsetWidth)/2,u=(t.height-c.offsetHeight)/2;h>0&&u>0&&(c.style.margin=u+"px "+h+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}();function w(e,t){for(var i=1,a=b(e),o=0,r=g.length;o<=r;o++){var s=0;switch(t){case n.L:s=g[o][0];break;case n.M:s=g[o][1];break;case n.Q:s=g[o][2];break;case n.H:s=g[o][3];break}if(a<=s)break;i++}if(i>g.length)throw new Error("Too long data");return i}function b(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}return a=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.H},"string"===typeof t&&(t={text:t}),t)for(var i in t)this._htOption[i]=t[i];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(v=f),this._android=p(),this._el=e,this._oQRCode=null,this._oDrawing=new v(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},a.prototype.makeCode=function(e){this._oQRCode=new t(w(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},a.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},a.prototype.clear=function(){this._oDrawing.clear()},a.CorrectLevel=n,a}))},d801:function(e,t,i){"use strict";i("b680");t["a"]={computeFileSize:function(e){if(!e)return"-";var t="";t=e<102.4?e.toFixed(2)+"B":e<104857.6?(e/1024).toFixed(2)+"KB":e<107374182.4?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB";var i=t+"",a=i.indexOf("."),n=i.substr(a+1,2);return"00"==n?i.substring(0,a)+i.substr(a+3,2):t}}},e9c4:function(e,t,i){var a=i("23e7"),n=i("da84"),o=i("d066"),r=i("2ba4"),s=i("e330"),l=i("d039"),c=n.Array,h=o("JSON","stringify"),u=s(/./.exec),g=s("".charAt),d=s("".charCodeAt),p=s("".replace),f=s(1..toString),m=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,b=function(e,t,i){var a=g(i,t-1),n=g(i,t+1);return u(v,e)&&!u(w,n)||u(w,e)&&!u(v,a)?"\\u"+f(d(e,0),16):e},y=l((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")}));h&&a({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,i){for(var a=0,n=arguments.length,o=c(n);a<n;a++)o[a]=arguments[a];var s=r(h,null,o);return"string"==typeof s?p(s,m,b):s}})},fb9f:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-show-vue"},[a("el-row",{staticStyle:{height:"100%"},attrs:{type:"border-card"}},[a("el-col",{staticStyle:{padding:"20px","border-right":"1px solid #f1f1f1",height:"100%",overflow:"auto"},attrs:{span:e.actionTabVisible?18:24}},[a("el-row",[e.navigationList.length>0?a("el-col",{attrs:{xs:0,sm:4,md:4,lg:6,xl:6}},[a("Navigation",{ref:"navigation",attrs:{heading:e.navigationList}})],1):e._e(),a("el-col",{attrs:{xs:24,sm:e.navigationList.length>0?20:24,md:e.navigationList.length>0?20:24,lg:e.navigationList.length>0?18:24,xl:e.navigationList.length>0?18:24}},[a("div",{staticStyle:{"max-width":"1000px",margin:"0 auto","padding-left":"10px"}},[a("div",{ref:"wikiTitle",staticClass:"wiki-title"},[e._v(e._s(e.wikiPage.name))]),a("div",{staticClass:"wiki-author"},[a("div",[e.wikiPage.updateUserName?a("span",[e._v(e._s(e.wikiPage.updateUserName)+"　于　"+e._s(e.wikiPage.updateTime)+"　修改")]):a("span",{staticClass:"create-user-time"},[e._v(e._s(e.wikiPage.createUserName)+"　于　"+e._s(e.wikiPage.createTime)+"　创建")]),a("div",{staticStyle:{float:"right"}},[a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text",icon:"el-icon-chat-line-round"},on:{click:e.showCommentWiki}},[e._v("评论")]),1==e.wikiPageAuth.canUploadFile?a("el-upload",{staticClass:"upload-page-file",staticStyle:{display:"inline","margin-right":"10px"},attrs:{action:e.uploadFileUrl,"with-credentials":!0,"on-success":e.uploadFileSuccess,"on-error":e.uploadFileError,name:"files","show-file-list":"",multiple:"",data:e.uploadFormData,limit:999}},[a("el-button",{attrs:{type:"text",icon:"el-icon-upload"}},[e._v("上传附件")])],1):e._e(),1==e.wikiPageAuth.canEdit?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:e.editWiki}},[e._v("编辑")]):e._e(),a("el-dropdown",{staticStyle:{"margin-left":"10px"},on:{command:e.handleMoreCommand}},[a("el-button",{attrs:{type:"text"}},[e._v(" 更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"showPageHistory",icon:"el-icon-time"}},[e._v("查看历史版本")]),1==e.wikiPageAuth.canConfigAuth?a("el-dropdown-item",{attrs:{command:"editAuth",icon:"el-icon-s-check"}},[e._v("权限设置")]):e._e(),1==e.spaceInfo.openDoc?a("el-dropdown-item",{attrs:{command:"showOpenPage",icon:"el-icon-share"}},[e._v("查看开放文档")]):e._e(),1==e.spaceInfo.openDoc?a("el-dropdown-item",{attrs:{command:"showMobileView",icon:"el-icon-mobile-phone"}},[e._v("手机端查看")]):e._e(),1==e.wikiPageAuth.canDelete?a("el-dropdown-item",{attrs:{command:"deletePage",icon:"el-icon-delete"}},[e._v("删除")]):e._e()],1)],1)],1)])]),a("div",{staticClass:"wiki-files"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.pageFileList.length>0,expression:"pageFileList.length > 0"}],staticStyle:{width:"100%","margin-bottom":"5px"},attrs:{data:e.pageFileList,border:""}},[a("el-table-column",{attrs:{label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:t.row.fileUrl}},[e._v(e._s(t.row.fileName))])]}}])}),a("el-table-column",{attrs:{prop:"createUserName",label:"创建人"}}),a("el-table-column",{attrs:{label:"文件大小"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.computeFileSize(t.row.fileSize)))]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180px"}}),a("el-table-column",{attrs:{prop:"downloadNum",label:"下载次数",width:"80px"}}),1==e.wikiPageAuth.canDeleteFile?a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(i){return e.deletePageFile(t.row)}}},[e._v("删除")])]}}],null,!1,2397412326)}):e._e()],1)],1),a("div",{ref:"pageContent",staticClass:"wiki-page-content"},[2==e.wikiPage.editorType?a("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"markdown-body",domProps:{innerHTML:e._s(e.pageShowDetail)}}):a("div",{staticClass:"wang-editor-body",domProps:{innerHTML:e._s(e.pageShowDetail)}})]),a("div",{staticStyle:{"margin-top":"40px","font-size":"14px"}},[a("span",{staticClass:"is-link",staticStyle:{"vertical-align":"top"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.wikiPage.selfZan,expression:"wikiPage.selfZan == 0"}],on:{click:function(t){return e.zanPage(1)}}},[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:i("6c9a")}}),e._v(" 赞")]),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.wikiPage.selfZan,expression:"wikiPage.selfZan == 1"}],on:{click:function(t){return e.zanPage(0)}}},[a("img",{staticStyle:{"vertical-align":"middle",transform:"rotateX(180deg)"},attrs:{src:i("6c9a")}}),e._v(" 踩")])]),a("span",{staticStyle:{"margin-left":"10px","vertical-align":"top"}},[0==e.wikiPage.selfZan&&e.wikiPage.zanNum<=0?a("span",[e._v("成为第一个赞同者")]):0==e.wikiPage.selfZan&&e.wikiPage.zanNum>0?a("span",[a("span",{staticClass:"is-link",on:{click:e.showZanPageUser}},[e._v(e._s(e.wikiPage.zanNum)+"人")]),e._v("赞了它 ")]):1==e.wikiPage.selfZan&&e.wikiPage.zanNum<=1?a("span",[e._v("我赞了它")]):1==e.wikiPage.selfZan&&e.wikiPage.zanNum>1?a("span",[a("span",{staticClass:"is-link",on:{click:e.showZanPageUser}},[e._v("我和"+e._s(e.wikiPage.zanNum-1)+"个其他人")]),e._v("赞了它 ")]):e._e()]),a("span",{staticStyle:{"margin-left":"10px"}},[a("i",{staticClass:"el-icon-view",staticStyle:{"font-size":"16px",color:"#666"}}),e._v(" "+e._s(e.wikiPage.viewNum)+"次阅读 ")])])])])],1)],1),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.actionTabVisible,expression:"actionTabVisible"}],staticStyle:{height:"100%"},attrs:{span:6}},[a("i",{staticClass:"el-icon-close close-action-tab",on:{click:e.closeActionTab}}),a("el-tabs",{on:{"tab-click":e.actionTabClick},model:{value:e.actionTabActiveName,callback:function(t){e.actionTabActiveName=t},expression:"actionTabActiveName"}},[a("el-tab-pane",{attrs:{label:"评论",name:"comment"}},[a("div",{ref:"actionTabComment",staticClass:"action-tab-box",staticStyle:{"padding-bottom":"130px","box-sizing":"border-box",height:"calc(100vh - 80px)"}},[e.commentList.length<=0?a("div",{staticClass:"action-box-empty"},[e._v("暂无评论")]):a("el-timeline",e._l(e.commentList,(function(t){return a("el-timeline-item",{attrs:{timestamp:t.createTime,placement:"top"}},[a("el-card",{staticClass:"box-card comment-card",attrs:{"body-style":{padding:"10px"}}},[a("div",{staticClass:"head",style:"background-color: "+t.color},[e._v(e._s(t.createUserName.substr(0,1)))]),a("div",{staticClass:"comment-user-name"},[e._v(" "+e._s(t.createUserName)+" "),e.canDeleteComment(t)?a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"comment.visible"}},[a("p",[e._v("确定要除删此评论吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.deleteComment(t.id)}}},[e._v("确定")])],1),a("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},slot:"reference"})]):e._e()],1),a("pre",{staticClass:"comment-content"},[e._v(e._s(t.content))])])],1)})),1)],1),a("div",{staticClass:"comment-input-box"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentTextInput,expression:"commentTextInput"}],attrs:{rows:"5",placeholder:"发表评论"},domProps:{value:e.commentTextInput},on:{input:function(t){t.target.composing||(e.commentTextInput=t.target.value)}}}),a("el-button",{staticStyle:{float:"right",margin:"2px 5px"},attrs:{type:"primary",size:"mini"},on:{click:e.submitPageComment}},[e._v("发送")])],1)]),a("el-tab-pane",{attrs:{label:"修改历史",name:"history"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.getPageHistoryByScroll,expression:"getPageHistoryByScroll"}],staticClass:"action-tab-box"},[e.pageHistoryList.length<=0?a("div",{staticClass:"action-box-empty"},[e._v("暂无修改历史记录")]):a("el-timeline",e._l(e.pageHistoryList,(function(t){return a("el-timeline-item",[a("el-tag",{staticClass:"history-item",attrs:{type:e.pageHistoryChoice.id==t.id?3==t.loading?"danger":"success":"info"},on:{click:function(i){return e.historyClick(t)}}},[a("div",[e._v(e._s(t.createUserName))]),a("div",[e._v(e._s(t.createTime))])]),a("i",{directives:[{name:"show",rawName:"v-show",value:1==t.loading,expression:"history.loading==1"}],staticClass:"el-icon-loading history-loading-status"}),a("i",{directives:[{name:"show",rawName:"v-show",value:2==t.loading,expression:"history.loading==2"}],staticClass:"el-icon-circle-check history-loading-status"}),a("i",{directives:[{name:"show",rawName:"v-show",value:3==t.loading,expression:"history.loading==3"}],staticClass:"el-icon-circle-close history-loading-status"})],1)})),1)],1)])],1)],1)],1),a("el-dialog",{attrs:{title:"手机扫码查看",visible:e.mobileScanDialogVisible,width:"400px"},on:{"update:visible":function(t){e.mobileScanDialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{ref:"qrCodeDiv",staticClass:"mobile-qr"}),a("div",[e._v("使用微信或手机浏览器扫一扫查看")]),a("div",[e._v("或 "),a("a",{attrs:{target:"_blank",href:e.qrCodeUrl}},[e._v("直接访问")])])])]),a("el-dialog",{attrs:{title:"赞了它的人",visible:e.zanUserDialogVisible,width:"600px"},on:{"update:visible":function(t){e.zanUserDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"5px"},attrs:{data:e.zanUserList,border:"","show-header":!1}},[a("el-table-column",{attrs:{prop:"createUserName",label:"用户"}}),a("el-table-column",{attrs:{prop:"createTime",label:"时间"}})],1)],1),a("el-dialog",{attrs:{title:"页面权限",visible:e.pageAuthDialogVisible,width:"900px"},on:{"update:visible":function(t){e.pageAuthDialogVisible=t}}},[a("el-row",[a("el-select",{staticStyle:{width:"750px","margin-right":"10px"},attrs:{filterable:"",remote:"","reserve-keyword":"",autoComplete:"new-password",placeholder:"请输入名字、邮箱、账号搜索用户","remote-method":e.getSearchUserList,loading:e.pageAuthUserLoading},model:{value:e.pageAuthNewUser,callback:function(t){e.pageAuthNewUser=t},expression:"pageAuthNewUser"}},e._l(e.searchUserList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.userName,value:e.id}})})),1),a("el-button",{on:{click:e.addPageAuthUser}},[e._v("添加")])],1),a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.pageAuthUserList,border:""}},[a("el-table-column",{attrs:{prop:"userName",label:"用户",width:"150"}}),a("el-table-column",{attrs:{label:"权限"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.editPage,callback:function(i){e.$set(t.row,"editPage",i)},expression:"scope.row.editPage"}},[e._v("编辑")]),a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.deletePage,callback:function(i){e.$set(t.row,"deletePage",i)},expression:"scope.row.deletePage"}},[e._v("删除")]),a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.pageFileUpload,callback:function(i){e.$set(t.row,"pageFileUpload",i)},expression:"scope.row.pageFileUpload"}},[e._v("文件上传")]),a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.pageFileDelete,callback:function(i){e.$set(t.row,"pageFileDelete",i)},expression:"scope.row.pageFileDelete"}},[e._v("文件删除")]),a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.row.pageAuthManage,callback:function(i){e.$set(t.row,"pageAuthManage",i)},expression:"scope.row.pageAuthManage"}},[e._v("权限管理")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger",plain:""},on:{click:function(i){return e.deleteUserPageAuth(t.row)}}},[e._v("删除")])]}}])})],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveUserPageAuth}},[e._v("保存配置")])],1)],1),a("div",{ref:"imagePreview"},[e.showImagePreview?a("el-image-viewer",{attrs:{"url-list":e.showImagePreviewList,"on-close":e.closeImagePreview,"initial-index":e.previewInitialIndex}}):e._e()],1)],1)},n=[],o=(i("ac1f"),i("1276"),i("7db0"),i("d3b7"),i("e9c4"),i("b0c0"),i("159b"),i("99af"),i("d044")),r=i.n(o),s=i("d801"),l=i("03bc"),c=i("0a79"),h=i("9f03"),u=i("b8fe"),g=i("b2d8"),d=i("08a9"),p=(i("c350"),i("64e1"),i("56d7")),f={colorArr:["#67C23A","#409EFF","#E6A23C","#F56C6C","#909399","#303133"],userHeadColor:{}},m={props:["spaceInfo"],components:{"el-image-viewer":d["a"],mavonEditor:g["mavonEditor"],Navigation:u["a"]},data:function(){return{wikiPage:{},wikiPageAuth:{},pageContent:{},pageFileList:[],selfUserId:0,uploadFileList:[],uploadFormData:{pageId:0},zanUserDialogVisible:!1,zanUserList:[],parentPath:{},qrCodeUrl:"",mobileScanDialogVisible:!1,commentTextInput:"",commentList:[],recommentInfo:{},uploadFileUrl:".//zyplayer-doc-wiki/page/file/upload",pageAuthDialogVisible:!1,pageAuthUserList:[],searchUserList:[],pageAuthNewUser:"",pageAuthUserLoading:!1,actionTabVisible:!1,actionTabActiveName:"comment",pageHistoryDetail:"",pageShowDetail:"",pageHistoryChoice:{},pageHistoryList:[],pageHistoryPageNum:1,navigationList:[],previewInitialIndex:0,showImagePreview:!1,showImagePreviewList:[],markdownToolbars:{fullscreen:!0,readmodel:!0}}},beforeRouteUpdate:function(e,t,i){this.initQueryParam(e),i()},mounted:function(){this.initQueryParam(this.$route)},methods:{editWiki:function(){var e=this,t={pageId:this.parentPath.pageId};c["a"].pageLock(t).then((function(){e.$router.push({path:"/page/edit",query:{pageId:e.parentPath.pageId}})}))},getSearchUserList:function(e){var t=this;""!=e&&(this.pageAuthUserLoading=!0,h["a"].getUserBaseInfo({search:e}).then((function(e){t.searchUserList=e.data||[],t.pageAuthUserLoading=!1})))},handleMoreCommand:function(e){var t=this;if("editAuth"==e)this.editWikiAuth();else if("deletePage"==e)this.deleteWikiPage();else if("showPageHistory"==e)this.showPageHistory();else if("showOpenPage"==e)if(1!=this.spaceInfo.openDoc)this.$message.warning("该空间未开放，无法查看开放文档地址");else{var i=this.$router.resolve({path:"/page/share/view",query:{pageId:this.wikiPage.id,space:this.spaceInfo.uuid}});window.open(i.href,"_blank")}else if("showMobileView"==e)if(1!=this.spaceInfo.openDoc)this.$message.warning("该空间未开放，无法查看开放文档地址");else{var a=this.$router.resolve({path:"/page/share/mobile/view",query:{pageId:this.wikiPage.id,space:this.spaceInfo.uuid}});this.mobileScanDialogVisible=!0;var n=window.location.href.split("#")[0];setTimeout((function(){t.qrCodeUrl=n+a.href,t.$refs.qrCodeDiv.innerHTML="",new r.a(t.$refs.qrCodeDiv,{text:t.qrCodeUrl,width:250,height:250,colorDark:"#333333",colorLight:"#ffffff",correctLevel:r.a.CorrectLevel.M})}),0)}},addPageAuthUser:function(){var e=this;if(this.pageAuthNewUser.length<=0)this.$message.warning("请先选择用户");else if(this.searchUserList.find((function(t){return t.userId==e.pageAuthNewUser})))this.pageAuthNewUser="";else{for(var t="",i=0;i<this.searchUserList.length;i++)if(this.pageAuthNewUser==this.searchUserList[i].id){t=this.searchUserList[i].userName;break}this.pageAuthUserList.push({userName:t,userId:this.pageAuthNewUser,editPage:0,commentPage:0,deletePage:0,pageFileUpload:0,pageFileDelete:0,pageAuthManage:0}),this.pageAuthNewUser=""}},editWikiAuth:function(){var e=this;this.pageAuthNewUser=[],this.pageAuthUserList=[];var t={pageId:this.wikiPage.id};c["a"].getPageUserAuthList(t).then((function(t){e.pageAuthUserList=t.data||[],e.pageAuthDialogVisible=!0}))},saveUserPageAuth:function(){var e=this,t={pageId:this.wikiPage.id,authList:JSON.stringify(this.pageAuthUserList)};c["a"].assignPageUserAuth(t).then((function(){e.$message.success("保存成功！")}))},notOpen:function(){this.$message.warning("暂未开放")},deleteUserPageAuth:function(e){for(var t=[],i=0;i<this.pageAuthUserList.length;i++){var a=this.pageAuthUserList[i];a.userId!=e.userId&&t.push(this.pageAuthUserList[i])}this.pageAuthUserList=t},deleteWikiPage:function(){var e=this;this.$confirm("确定要删除此页面及其所有子页面吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={pageId:e.wikiPage.id};c["a"].pageDelete(t).then((function(){e.$emit("loadPageList"),e.$router.push({path:"/home",query:{spaceId:e.wikiPage.spaceId}})}))})).catch((function(){}))},actionTabClick:function(e){"comment"==e.name?this.showCommentWiki():"history"==e.name&&this.showPageHistory()},closeActionTab:function(){this.actionTabVisible=!1,this.clearHistory(),this.computeNavigationWidth()},showCommentWiki:function(){this.actionTabVisible=!0,this.actionTabActiveName="comment",this.scrollActionTabComment(),this.computeNavigationWidth()},showPageHistory:function(){this.actionTabVisible=!0,this.actionTabActiveName="history",this.clearHistory(),this.computeNavigationWidth()},computeNavigationWidth:function(){var e=this;setTimeout((function(){e.$refs.navigation&&e.$refs.navigation.computeNavigationWidth()}),100)},getPageHistoryByScroll:function(){this.pageHistoryPageNum<=0||(this.pageHistoryPageNum++,this.getPageHistory(this.wikiPage.id,this.pageHistoryPageNum))},getPageHistory:function(e,t){var i=this;1==t&&(this.pageHistoryList=[],this.pageHistoryPageNum=1);var a={pageId:e,pageNum:t};c["a"].pageHistoryList(a).then((function(e){var t=e.data||[];t.length<=0?i.pageHistoryPageNum=0:(t.forEach((function(e){return e.loading=0})),i.pageHistoryList=i.pageHistoryList.concat(t))}))},historyClick:function(e){var t=this;this.pageHistoryChoice.id==e.id&&this.pageHistoryDetail||(this.pageHistoryChoice.loading=0,this.pageHistoryChoice=e,e.content?(e.loading=2,this.pageHistoryDetail=e.content,this.pageShowDetail=e.content,setTimeout((function(){t.previewPageImage(),t.createNavigationHeading()}),500)):(e.loading=1,c["a"].pageHistoryDetail({id:e.id}).then((function(i){e.loading=2,e.content=i.data||"--",2===t.wikiPage.editorType&&(e.content=g["mavonEditor"].getMarkdownIt().render(e.content)),t.pageHistoryDetail=e.content,t.pageShowDetail=e.content,setTimeout((function(){t.previewPageImage(),t.createNavigationHeading()}),500)})).catch((function(){e.loading=3}))))},clearHistory:function(){this.pageHistoryChoice.loading=0,this.pageHistoryDetail="",this.pageHistoryChoice={},this.pageHistoryList.forEach((function(e){return e.loading=0})),this.pageShowDetail=this.pageContent.content},computeFileSize:function(e){return s["a"].computeFileSize(e)},loadPageDetail:function(e){var t=this;this.clearHistory(),c["a"].pageDetail({id:e}).then((function(i){var a=i.data||{},n=a.wikiPage||{};n.selfZan=a.selfZan||0,t.wikiPage=n,t.pageContent=a.pageContent||{},t.pageFileList=a.fileList||[],t.selfUserId=a.selfUserId||0,t.uploadFormData={pageId:t.wikiPage.id},t.wikiPageAuth={canEdit:a.canEdit,canDelete:a.canDelete,canUploadFile:a.canUploadFile,canDeleteFile:a.canDeleteFile,canConfigAuth:a.canConfigAuth},2===t.wikiPage.editorType&&(t.pageContent.content=g["mavonEditor"].getMarkdownIt().render(t.pageContent.content)),t.pageShowDetail=t.pageContent.content,document.title=n.name||"WIKI-内容展示",t.$emit("switchSpace",t.wikiPage.spaceId),t.$emit("changeExpandedKeys",e),setTimeout((function(){t.previewPageImage(),t.createNavigationHeading()}),500)})),this.loadCommentList(e),this.getPageHistory(e,1)},createNavigationHeading:function(){var e=l["a"].createNavigationHeading();if(e.length>0){var t=this.wikiPage.name||"WIKI-内容展示";e.unshift({level:1,node:this.$refs.wikiTitle,text:t})}this.navigationList=e},closeImagePreview:function(){this.showImagePreview=!1},previewPageImage:function(){var e=this,t=[],i=this.$refs.pageContent.querySelectorAll("img");i.forEach((function(i,a){t.push(i.src),i.onclick=function(){e.previewInitialIndex=a,e.showImagePreviewList=t,e.showImagePreview=!0,setTimeout((function(){return e.initImageViewerMask()}),0)}}))},initImageViewerMask:function(){var e=this,t=this.$refs.imagePreview.querySelectorAll(".el-image-viewer__mask");t.forEach((function(t){t.onclick=function(){e.showImagePreview=!1}}))},loadCommentList:function(e){var t=this;this.cancelCommentUser(),c["a"].pageCommentList({pageId:e}).then((function(e){for(var i=e.data||[],a=0;a<i.length;a++){i[a].color=t.getUserHeadBgColor(i[a].createUserId);for(var n=i[a].commentList||[],o=0;o<n.length;o++){var r=n[o];r.color=t.getUserHeadBgColor(r.createUserId)}i[a].commentList=n,i[a].visible=!1}t.commentList=i,t.scrollActionTabComment()}))},scrollActionTabComment:function(){var e=this;setTimeout((function(){var t=e.$refs.actionTabComment;t.scrollTop=t.scrollHeight}),0)},zanPage:function(e){var t=this,i={yn:e,pageId:this.wikiPage.id};c["a"].updatePageZan(i).then((function(){t.wikiPage.selfZan=e,t.wikiPage.zanNum=t.wikiPage.zanNum+(1==e?1:-1)}))},showZanPageUser:function(){var e=this;this.zanUserDialogVisible=!0,this.zanUserList=[];var t={pageId:this.wikiPage.id};c["a"].pageZanList(t).then((function(t){e.zanUserList=t.data}))},recommentUser:function(e,t){this.recommentInfo={id:e,index:t,placeholder:"回复"+(t+1)+"楼"}},canDeleteComment:function(e){return this.selfUserId==e.createUserId||this.wikiPage.createUserId==this.selfUserId},deleteComment:function(e){var t=this;c["a"].deletePageComment({id:e}).then((function(){t.loadCommentList(t.parentPath.pageId)}))},cancelCommentUser:function(){this.recommentInfo={}},submitPageComment:function(){var e=this;if(this.commentTextInput.length<=0)this.$message.error("请输入评论内容");else{var t={pageId:this.wikiPage.id,content:this.commentTextInput,parentId:this.recommentInfo.id};c["a"].updatePageComment(t).then((function(t){var i=t.data;i.color=e.getUserHeadBgColor(i.createUserId),e.commentTextInput="",e.loadCommentList(e.parentPath.pageId)}))}},uploadFileError:function(e){this.$message.error("上传失败，"+e)},uploadFileSuccess:function(e){200==e.errCode?(this.pageFileList.push(e.data),this.$message.success("上传成功！")):p["default"].$message("上传失败："+(e.errMsg||"未知错误"))},deletePageFile:function(e){var t=this;this.$confirm("确定要删除此文件吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={id:e.id};c["a"].deletePageFile(i).then((function(){for(var i=[],a=0;a<t.pageFileList.length;a++)t.pageFileList[a].id!=e.id&&i.push(t.pageFileList[a]);t.pageFileList=i}))}))},getUserHeadBgColor:function(e){var t=f.userHeadColor[e];return t||(t=f.colorArr[Math.ceil(Math.random()*f.colorArr.length)-1],f.userHeadColor[e]=t),t},initQueryParam:function(e){this.parentPath={pageId:e.query.pageId},this.parentPath.pageId&&this.loadPageDetail(this.parentPath.pageId)}}},v=m,w=(i("9c8a"),i("2877")),b=Object(w["a"])(v,a,n,!1,null,null,null);t["default"]=b.exports}}]);