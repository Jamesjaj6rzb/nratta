var B=Object.defineProperty;var q=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var O=(m,a,d)=>a in m?B(m,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):m[a]=d,z=(m,a)=>{for(var d in a||(a={}))F.call(a,d)&&O(m,d,a[d]);if(q)for(var d of q(a))A.call(a,d)&&O(m,d,a[d]);return m};import{z as T}from"./custom.e19fb7cf.js";import{O as M,Q as D,R as Q,r as i,T as G,o as c,b as U,a as t,w as e,F as C,n as h,c as g,x as H,e as u,t as K,p as l}from"./vendor.b858ca95.js";import{_ as W}from"./main.6f9872c2.js";const X={setup(){const m=M();let a=D([]),d=D(!1),o=D({docType:"",openVisit:"",docStatus:""});const b=async()=>{d.value=!0,T.swaggerDocList(o.value).then(_=>{setTimeout(()=>d.value=!1,500),a.value=_.data||[]})};let k=D({}),r=D(),p=D(!1);const s=async()=>{r.value.validate().then(()=>{T.swaggerDocAdd(k.value).then(_=>{b(),p.value=!1,m.commit("addDocChangedNum")})}).catch(_=>{console.log("error",_)})},y=async()=>{p.value=!0,k.value={docType:1,openVisit:0,docStatus:1}},S=_=>{k.value=z({},_),p.value=!0},E=async(_,V,x)=>{T.swaggerDocUpdate({id:_,docStatus:V,yn:x}).then(v=>{b(),m.commit("addDocChangedNum")})},f=async _=>E(_.id,null,0);return Q(()=>{b()}),{searchParam:o,docList:a,docListLoading:d,newDocVisible:p,docEdit:k,newDocFormRef:r,searchDocList:b,openNewDoc:y,handleNewDocOk:s,deleteDoc:f,editDoc:S,newDocRules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0",trigger:"change"}],docUrl:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u6863\u5730\u5740",trigger:"change"}],jsonContent:[{required:!0,message:"\u8BF7\u8F93\u5165JSON\u683C\u5F0F\u7684swagger\u6587\u6863\u5185\u5BB9",trigger:"change"}],docType:[{type:"number",required:!0,message:"\u8BF7\u9009\u62E9\u6587\u6863\u7C7B\u578B",trigger:"change"}],openVisit:[{type:"number",required:!0,message:"\u8BF7\u9009\u62E9\u662F\u5426\u5F00\u653E\u8BBF\u95EE",trigger:"change"}],docStatus:[{type:"number",required:!0,message:"\u8BF7\u9009\u62E9\u6587\u6863\u72B6\u6001",trigger:"change"}]},docListColumns:[{title:"ID",dataIndex:"id",width:70},{title:"\u6587\u6863\u540D\u79F0",dataIndex:"name",width:250},{title:"\u6587\u6863\u7C7B\u578B",dataIndex:"docType",width:90},{title:"\u5F00\u653E\u8BBF\u95EE",dataIndex:"openVisit",width:90},{title:"\u72B6\u6001",dataIndex:"docStatus",width:90},{title:"\u6587\u6863\u5730\u5740",dataIndex:"docUrl"},{title:"\u76EE\u6807\u57DF\u540D",dataIndex:"rewriteDomain",width:250},{title:"\u64CD\u4F5C",dataIndex:"operation",fixed:"right",width:170}],swaggerDocDemo:`{
    "swagger": "2.0",
    "info": {},
    "host": "doc.zyplayer.com",
    "basePath":"/",
    "tags": [],
    "paths": {},
    "definitions": {}
}`}}},Y=l("\u5168\u90E8"),Z=l("URL\u6DFB\u52A0"),$=l("JSON\u5185\u5BB9"),ee=l("\u5168\u90E8"),te=l("\u5426"),oe=l("\u662F"),ae=l("\u5168\u90E8"),le=l("\u542F\u7528"),ne=l("\u7981\u7528"),de=l("\u67E5\u8BE2"),ie=l("\u65B0\u5EFA"),se=l("\u7F16\u8F91"),ce=l("\u5220\u9664"),re=l("URL\u6DFB\u52A0"),_e=l("JSON\u5185\u5BB9"),ue=l("\u672A\u5F00\u653E"),me=l("\u5DF2\u5F00\u653E"),pe=l("\u542F\u7528"),fe=l("\u7981\u7528"),he=l("URL\u6DFB\u52A0"),ge=l("JSON\u5185\u5BB9"),ve=l(" \u67E5\u770B\u6587\u6863\u5730\u5740 "),ye=u("p",null,"\u683C\u5F0F\u4E00\uFF1Ahttp://doc.zyplayer.com/v2/api-docs",-1),we=u("p",null,"\u683C\u5F0F\u4E8C\uFF1Ahttp://doc.zyplayer.com/swagger-resources",-1),De=u("p",null,"\u683C\u5F0F\u4E09\uFF1Ahttp://doc.zyplayer.com/swagger-ui.html",-1),be=u("a",null,"\u793A\u4F8B",-1),ke=l(" \u67E5\u770B\u6587\u6863\u5185\u5BB9 "),xe=u("div",null,'\u652F\u6301\u4EE5\u4E0B\u683C\u5F0F\u7684Swagger\u6587\u6863\u5185\u5BB9\u8F93\u5165\uFF0C\u5176\u4E2D {"swagger": "2.0"} \u4E3A\u5FC5\u8981\u5C5E\u6027',-1),Ue={class:"lang-json"},Ce=u("a",null,"\u8BF4\u660E",-1),Se=l(" \u76EE\u6807\u57DF\u540D "),Ee=u("p",null,"\u5728\u6587\u6863\u7684\u5728\u7EBF\u8C03\u8BD5\u754C\u9762\uFF0C\u8BBF\u95EE\u7684\u57DF\u540D\u53EF\u4EE5\u521D\u59CB\u4E3A\u6B64\u5904\u5F55\u5165\u7684\u57DF\u540D\uFF0C\u800C\u975E\u6587\u6863\u672C\u8EAB\u7684\u57DF\u540D\u5730\u5740",-1),Ve=u("p",null,"\u53EF\u4FBF\u4E8E\u4E0D\u540C\u73AF\u5883\u95F4\u7684\u63A5\u53E3\u6D4B\u8BD5\uFF0C\u4F8B\uFF1Ahttp://doc.zyplayer.com",-1),Le=u("a",null,"\u8BF4\u660E",-1),Ne=l("\u5426"),Te=l("\u5F00\u653E"),Ie=l("\u542F\u7528"),qe=l("\u7981\u7528");function Oe(m,a,d,o,b,k){const r=i("a-select-option"),p=i("a-select"),s=i("a-form-item"),y=i("a-button"),S=i("a-form"),E=i("a-popconfirm"),f=i("a-tag"),_=i("a-table"),V=i("a-card"),x=i("a-input"),v=i("a-radio"),L=i("a-radio-group"),N=i("a-popover"),R=i("a-textarea"),j=i("a-modal"),P=G("highlight");return c(),U(C,null,[t(V,null,{default:e(()=>[t(S,{layout:"inline",style:{"margin-bottom":"20px"}},{default:e(()=>[t(s,{label:"\u6587\u6863\u7C7B\u578B"},{default:e(()=>[t(p,{placeholder:"\u8BF7\u9009\u62E9\u6587\u6863\u7C7B\u578B",value:o.searchParam.docType,"onUpdate:value":a[0]||(a[0]=n=>o.searchParam.docType=n),style:{width:"150px"}},{default:e(()=>[t(r,{value:""},{default:e(()=>[Y]),_:1}),t(r,{value:1},{default:e(()=>[Z]),_:1}),t(r,{value:2},{default:e(()=>[$]),_:1})]),_:1},8,["value"])]),_:1}),t(s,{label:"\u5F00\u653E\u8BBF\u95EE"},{default:e(()=>[t(p,{placeholder:"\u8BF7\u9009\u62E9\u5F00\u653E\u8BBF\u95EE",value:o.searchParam.openVisit,"onUpdate:value":a[1]||(a[1]=n=>o.searchParam.openVisit=n),style:{width:"150px"}},{default:e(()=>[t(r,{value:""},{default:e(()=>[ee]),_:1}),t(r,{value:0},{default:e(()=>[te]),_:1}),t(r,{value:1},{default:e(()=>[oe]),_:1})]),_:1},8,["value"])]),_:1}),t(s,{label:"\u72B6\u6001"},{default:e(()=>[t(p,{placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",value:o.searchParam.docStatus,"onUpdate:value":a[2]||(a[2]=n=>o.searchParam.docStatus=n),style:{width:"150px"}},{default:e(()=>[t(r,{value:""},{default:e(()=>[ae]),_:1}),t(r,{value:1},{default:e(()=>[le]),_:1}),t(r,{value:2},{default:e(()=>[ne]),_:1})]),_:1},8,["value"])]),_:1}),t(s,null,{default:e(()=>[t(y,{onClick:o.searchDocList,type:"primary"},{default:e(()=>[de]),_:1},8,["onClick"]),t(y,{onClick:o.openNewDoc,style:{marginLeft:"8px"}},{default:e(()=>[ie]),_:1},8,["onClick"])]),_:1})]),_:1}),t(_,{dataSource:o.docList,columns:o.docListColumns,size:"middle",loading:o.docListLoading,pagination:!1,scroll:{x:1400,y:"calc(100vh - 340px)"}},{bodyCell:e(({column:n,text:w,record:I})=>[n.dataIndex==="operation"?(c(),U(C,{key:0},[t(y,{type:"link",onClick:J=>o.editDoc(I)},{default:e(()=>[se]),_:2},1032,["onClick"]),t(E,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onConfirm:J=>o.deleteDoc(I)},{default:e(()=>[t(y,{type:"link",danger:""},{default:e(()=>[ce]),_:1})]),_:2},1032,["onConfirm"])],64)):h("",!0),n.dataIndex==="docType"?(c(),U(C,{key:1},[w===1?(c(),g(f,{key:0,color:"red"},{default:e(()=>[re]),_:1})):w===2?(c(),g(f,{key:1,color:"blue"},{default:e(()=>[_e]),_:1})):h("",!0)],64)):h("",!0),n.dataIndex==="openVisit"?(c(),U(C,{key:2},[w===0?(c(),g(f,{key:0,color:"pink"},{default:e(()=>[ue]),_:1})):w===1?(c(),g(f,{key:1,color:"green"},{default:e(()=>[me]),_:1})):h("",!0)],64)):h("",!0),n.dataIndex==="docStatus"?(c(),U(C,{key:3},[w===1?(c(),g(f,{key:0,color:"green"},{default:e(()=>[pe]),_:1})):w===2?(c(),g(f,{key:1,color:"pink"},{default:e(()=>[fe]),_:1})):h("",!0)],64)):h("",!0)]),_:1},8,["dataSource","columns","loading","scroll"])]),_:1}),t(j,{visible:o.newDocVisible,"onUpdate:visible":a[10]||(a[10]=n=>o.newDocVisible=n),title:"\u65B0\u589E\u6587\u6863",onOk:o.handleNewDocOk,width:600},{default:e(()=>[t(S,{layout:"horizontal",ref:"newDocFormRef",rules:o.newDocRules,model:o.docEdit,"label-col":{span:6},"wrapper-col":{span:18}},{default:e(()=>[t(s,{label:"\u6587\u6863\u540D\u79F0",required:"",name:"name"},{default:e(()=>[t(x,{placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0",value:o.docEdit.name,"onUpdate:value":a[3]||(a[3]=n=>o.docEdit.name=n)},null,8,["value"])]),_:1}),t(s,{label:"\u6587\u6863\u7C7B\u578B",required:"",name:"docType"},{default:e(()=>[t(L,{value:o.docEdit.docType,"onUpdate:value":a[4]||(a[4]=n=>o.docEdit.docType=n)},{default:e(()=>[t(v,{value:1},{default:e(()=>[he]),_:1}),t(v,{value:2},{default:e(()=>[ge]),_:1})]),_:1},8,["value"])]),_:1}),o.docEdit.docType===1?(c(),g(s,{key:0,label:"\u6587\u6863\u5730\u5740",required:"",name:"docUrl"},{extra:e(()=>[ve,t(N,{title:"\u6587\u6863\u5730\u5740\u652F\u6301\u4EE5\u4E0B\u4EFB\u4E00\u683C\u5F0F"},{content:e(()=>[ye,we,De]),default:e(()=>[be]),_:1})]),default:e(()=>[t(x,{placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u5730\u5740URL",value:o.docEdit.docUrl,"onUpdate:value":a[5]||(a[5]=n=>o.docEdit.docUrl=n)},null,8,["value"])]),_:1})):o.docEdit.docType===2?(c(),g(s,{key:1,label:"\u6587\u6863\u5185\u5BB9",required:"",name:"jsonContent"},{extra:e(()=>[ke,t(N,{title:"\u6587\u6863\u5185\u5BB9\u8BF4\u660E"},{content:e(()=>[xe,H(u("div",null,[u("pre",null,[u("code",Ue,K(o.swaggerDocDemo),1)])],512),[[P]])]),default:e(()=>[Ce]),_:1})]),default:e(()=>[t(R,{placeholder:"\u8BF7\u8F93\u5165JSON\u683C\u5F0F\u7684swagger\u6587\u6863\u5185\u5BB9",value:o.docEdit.jsonContent,"onUpdate:value":a[6]||(a[6]=n=>o.docEdit.jsonContent=n)},null,8,["value"])]),_:1})):h("",!0),t(s,{label:"\u76EE\u6807\u57DF\u540D",name:"rewriteDomain"},{extra:e(()=>[Se,t(N,{title:"\u76EE\u6807\u57DF\u540D\u8BF4\u660E"},{content:e(()=>[Ee,Ve]),default:e(()=>[Le]),_:1})]),default:e(()=>[t(x,{placeholder:"\u8BF7\u8F93\u5165\u76EE\u6807\u57DF\u540D",value:o.docEdit.rewriteDomain,"onUpdate:value":a[7]||(a[7]=n=>o.docEdit.rewriteDomain=n)},null,8,["value"])]),_:1}),t(s,{label:"\u5F00\u653E\u8BBF\u95EE",required:"",name:"openVisit"},{default:e(()=>[t(L,{value:o.docEdit.openVisit,"onUpdate:value":a[8]||(a[8]=n=>o.docEdit.openVisit=n)},{default:e(()=>[t(v,{value:0},{default:e(()=>[Ne]),_:1}),t(v,{value:1},{default:e(()=>[Te]),_:1})]),_:1},8,["value"])]),_:1}),t(s,{label:"\u72B6\u6001",required:"",name:"docStatus"},{default:e(()=>[t(L,{value:o.docEdit.docStatus,"onUpdate:value":a[9]||(a[9]=n=>o.docEdit.docStatus=n)},{default:e(()=>[t(v,{value:1},{default:e(()=>[Ie]),_:1}),t(v,{value:2},{default:e(()=>[qe]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["visible","onOk"])],64)}var Je=W(X,[["render",Oe]]);export{Je as default};
