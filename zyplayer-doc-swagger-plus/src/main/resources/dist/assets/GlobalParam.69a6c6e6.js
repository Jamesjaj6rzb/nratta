var B=Object.defineProperty;var w=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var I=(i,a,o)=>a in i?B(i,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[a]=o,V=(i,a)=>{for(var o in a||(a={}))F.call(a,o)&&I(i,o,a[o]);if(w)for(var o of w(a))G.call(a,o)&&I(i,o,a[o]);return i};import{z as x}from"./custom.b89cb45f.js";import{O as K,Q as L,R as N,r as p,o as n,b as r,e as P,a as s,w as l,F as m,c as v,t as S,n as k,p as d}from"./vendor.d375296a.js";import{_ as j}from"./main.9e5d3cc3.js";const z={setup(){K();let i=L([]),a=L(!1);const o=async()=>{e.value={},a.value=!0,x.docSwaggerGlobalParamList().then(t=>{setTimeout(()=>a.value=!1,500),i.value=t.data||[]})};let e=L({});const b=()=>{e.value.isEdit&&c(e.value);let t={isEdit:!0};i.value.push(t),e.value=t},D=t=>{e.value.isEdit&&c(e.value),t.isEdit=!0,e.value=V({},t)},c=t=>{t.isEdit=!1,t.id?i.value.forEach(f=>f.isEdit=!1):i.value=i.value.filter(f=>f!==t),e.value={}},E=t=>{x.docSwaggerGlobalParamUpdate(e.value).then(f=>{t.isEdit=!1,o()})},g=async t=>{x.docSwaggerGlobalParamUpdate({id:t.id,yn:0}).then(f=>{o()})};return N(()=>{o()}),{docList:i,docListLoading:a,docEdit:e,searchDocList:o,deleteDoc:g,editDoc:D,saveEditDoc:E,cancelEditDoc:c,addDocLine:b,docListColumns:[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"paramKey",width:250},{title:"\u53C2\u6570\u503C",dataIndex:"paramValue"},{title:"\u53C2\u6570\u4F4D\u7F6E",dataIndex:"paramType",width:120},{title:"\u64CD\u4F5C",dataIndex:"operation",fixed:"right",width:170}]}}},H={style:{"margin-bottom":"10px","text-align":"right"}},A=d("\u5237\u65B0"),M=d("\u65B0\u5EFA"),O={key:1},Q={key:1},R=d("Form"),q=d("Header"),J=d("Cookie"),W=d("Form"),X=d("Header"),Y=d("Cookie"),Z=d("\u53D6\u6D88"),$=d("\u4FDD\u5B58"),ee=d("\u7F16\u8F91"),ae=d("\u5220\u9664");function te(i,a,o,e,b,D){const c=p("a-button"),E=p("a-input"),g=p("a-textarea"),t=p("a-select-option"),f=p("a-select"),C=p("a-tag"),T=p("a-popconfirm"),U=p("a-table");return n(),r(m,null,[P("div",H,[s(c,{onClick:e.searchDocList,type:"primary"},{default:l(()=>[A]),_:1},8,["onClick"]),s(c,{onClick:e.addDocLine},{default:l(()=>[M]),_:1},8,["onClick"])]),s(U,{dataSource:e.docList,columns:e.docListColumns,size:"middle",loading:e.docListLoading,pagination:!1,scroll:{x:1e3,y:"calc(100vh - 340px)"}},{bodyCell:l(({column:h,text:y,record:u})=>[h.dataIndex==="paramKey"?(n(),r(m,{key:0},[u.isEdit?(n(),v(E,{key:0,placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0",value:e.docEdit.paramKey,"onUpdate:value":a[0]||(a[0]=_=>e.docEdit.paramKey=_)},null,8,["value"])):(n(),r("span",O,S(y),1))],64)):k("",!0),h.dataIndex==="paramValue"?(n(),r(m,{key:1},[u.isEdit?(n(),v(g,{key:0,rows:1,placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C",value:e.docEdit.paramValue,"onUpdate:value":a[1]||(a[1]=_=>e.docEdit.paramValue=_)},null,8,["value"])):(n(),r("span",Q,S(y),1))],64)):k("",!0),h.dataIndex==="paramType"?(n(),r(m,{key:2},[u.isEdit?(n(),v(f,{key:0,placeholder:"\u53C2\u6570\u4F4D\u7F6E",value:e.docEdit.paramType,"onUpdate:value":a[2]||(a[2]=_=>e.docEdit.paramType=_),style:{width:"110px"}},{default:l(()=>[s(t,{value:1},{default:l(()=>[R]),_:1}),s(t,{value:2},{default:l(()=>[q]),_:1}),s(t,{value:3},{default:l(()=>[J]),_:1})]),_:1},8,["value"])):(n(),r(m,{key:1},[y===1?(n(),v(C,{key:0,color:"green"},{default:l(()=>[W]),_:1})):y===2?(n(),v(C,{key:1,color:"pink"},{default:l(()=>[X]),_:1})):y===3?(n(),v(C,{key:2,color:"pink"},{default:l(()=>[Y]),_:1})):k("",!0)],64))],64)):k("",!0),h.dataIndex==="operation"?(n(),r(m,{key:3},[u.isEdit?(n(),r(m,{key:0},[s(c,{type:"link",onClick:_=>e.cancelEditDoc(u)},{default:l(()=>[Z]),_:2},1032,["onClick"]),s(c,{type:"link",onClick:_=>e.saveEditDoc(u)},{default:l(()=>[$]),_:2},1032,["onClick"])],64)):(n(),r(m,{key:1},[s(c,{type:"link",onClick:_=>e.editDoc(u)},{default:l(()=>[ee]),_:2},1032,["onClick"]),s(T,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onConfirm:_=>e.deleteDoc(u)},{default:l(()=>[s(c,{type:"link",danger:""},{default:l(()=>[ae]),_:1})]),_:2},1032,["onConfirm"])],64))],64)):k("",!0)]),_:1},8,["dataSource","columns","loading","scroll"])],64)}var de=j(z,[["render",te]]);export{de as default};
