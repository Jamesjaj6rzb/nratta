var P=Object.defineProperty;var T=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var I=(c,e,l)=>e in c?P(c,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[e]=l,V=(c,e)=>{for(var l in e||(e={}))B.call(e,l)&&I(c,l,e[l]);if(T)for(var l of T(e))G.call(e,l)&&I(c,l,e[l]);return c};import{z as D}from"./custom.33a00f74.js";import{O as N,P as x,Q as U,r as v,o,b as r,e as F,a as s,w as n,F as f,c as k,t as S,n as g,p as i}from"./vendor.ee21a423.js";import{_ as K}from"./main.b335ea75.js";const j={setup(){const c=N();let e=x([]),l=x(!1);const a=async()=>{d.value={},l.value=!0,D.docSwaggerGlobalParamList().then(t=>{setTimeout(()=>l.value=!1,500),e.value=t.data||[],c.commit("setGlobalParam",e.value)})};let d=x({}),w=x();const p=()=>{d.value.isEdit&&y(d.value);let t={isEdit:!0};e.value.unshift(t),d.value=t,setTimeout(()=>{let _=document.getElementsByClassName("ant-table-body")[0];_.scrollTop=0},0)},C=t=>{d.value.isEdit&&y(d.value),t.isEdit=!0,d.value=V({},t)},y=t=>{t.isEdit=!1,t.id?e.value.forEach(_=>_.isEdit=!1):e.value=e.value.filter(_=>_!==t),d.value={}},L=t=>{D.docSwaggerGlobalParamUpdate(d.value).then(_=>{t.isEdit=!1,a()})},h=async t=>{D.docSwaggerGlobalParamUpdate({id:t.id,yn:0}).then(_=>{a()})};return U(()=>{a()}),{docList:e,docListLoading:l,docEdit:d,tableRef:w,searchDocList:a,deleteDoc:h,editDoc:C,saveEditDoc:L,cancelEditDoc:y,addDocLine:p,docListColumns:[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"paramKey",width:250},{title:"\u53C2\u6570\u503C",dataIndex:"paramValue"},{title:"\u53C2\u6570\u4F4D\u7F6E",dataIndex:"paramType",width:120},{title:"\u64CD\u4F5C",dataIndex:"operation",fixed:"right",width:170}]}}},z={style:{"margin-bottom":"10px","text-align":"right"}},H=i("\u5237\u65B0"),A=i("\u65B0\u5EFA"),M={key:1},O={key:1},Q=i("Form"),R=i("Header"),q=i("Cookie"),J=i("Form"),W=i("Header"),X=i("Cookie"),Y=i("\u53D6\u6D88"),Z=i("\u4FDD\u5B58"),$=i("\u7F16\u8F91"),ee=i("\u5220\u9664");function ae(c,e,l,a,d,w){const p=v("a-button"),C=v("a-input"),y=v("a-select-option"),L=v("a-select"),h=v("a-tag"),t=v("a-popconfirm"),_=v("a-table");return o(),r(f,null,[F("div",z,[s(p,{onClick:a.searchDocList,type:"primary"},{default:n(()=>[H]),_:1},8,["onClick"]),s(p,{onClick:a.addDocLine},{default:n(()=>[A]),_:1},8,["onClick"])]),s(_,{dataSource:a.docList,columns:a.docListColumns,size:"middle",id:"paramTable",loading:a.docListLoading,pagination:!1,scroll:{x:1e3,y:"calc(100vh - 240px)"}},{bodyCell:n(({column:b,text:E,record:m})=>[b.dataIndex==="paramKey"?(o(),r(f,{key:0},[m.isEdit?(o(),k(C,{key:0,placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0",value:a.docEdit.paramKey,"onUpdate:value":e[0]||(e[0]=u=>a.docEdit.paramKey=u)},null,8,["value"])):(o(),r("span",M,S(E),1))],64)):g("",!0),b.dataIndex==="paramValue"?(o(),r(f,{key:1},[m.isEdit?(o(),k(C,{key:0,rows:1,placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u503C",value:a.docEdit.paramValue,"onUpdate:value":e[1]||(e[1]=u=>a.docEdit.paramValue=u)},null,8,["value"])):(o(),r("span",O,S(E),1))],64)):g("",!0),b.dataIndex==="paramType"?(o(),r(f,{key:2},[m.isEdit?(o(),k(L,{key:0,placeholder:"\u53C2\u6570\u4F4D\u7F6E",value:a.docEdit.paramType,"onUpdate:value":e[2]||(e[2]=u=>a.docEdit.paramType=u),style:{width:"110px"}},{default:n(()=>[s(y,{value:1},{default:n(()=>[Q]),_:1}),s(y,{value:2},{default:n(()=>[R]),_:1}),s(y,{value:3},{default:n(()=>[q]),_:1})]),_:1},8,["value"])):(o(),r(f,{key:1},[E===1?(o(),k(h,{key:0,color:"green"},{default:n(()=>[J]),_:1})):E===2?(o(),k(h,{key:1,color:"pink"},{default:n(()=>[W]),_:1})):E===3?(o(),k(h,{key:2,color:"pink"},{default:n(()=>[X]),_:1})):g("",!0)],64))],64)):g("",!0),b.dataIndex==="operation"?(o(),r(f,{key:3},[m.isEdit?(o(),r(f,{key:0},[s(p,{type:"link",onClick:u=>a.cancelEditDoc(m)},{default:n(()=>[Y]),_:2},1032,["onClick"]),s(p,{type:"link",onClick:u=>a.saveEditDoc(m)},{default:n(()=>[Z]),_:2},1032,["onClick"])],64)):(o(),r(f,{key:1},[s(p,{type:"link",onClick:u=>a.editDoc(m)},{default:n(()=>[$]),_:2},1032,["onClick"]),s(t,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onConfirm:u=>a.deleteDoc(m)},{default:n(()=>[s(p,{type:"link",danger:""},{default:n(()=>[ee]),_:1})]),_:2},1032,["onConfirm"])],64))],64)):g("",!0)]),_:1},8,["dataSource","columns","loading","scroll"])],64)}var ie=K(j,[["render",ae]]);export{ie as default};
